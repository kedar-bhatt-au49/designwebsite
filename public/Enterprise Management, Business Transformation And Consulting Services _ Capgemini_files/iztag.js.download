!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Inzynk={})}(this,function(t){"use strict";var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var d=function(){return(d=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function c(t,a,c,s){return new(c=c||Promise)(function(n,e){function i(t){try{o(s.next(t))}catch(t){e(t)}}function r(t){try{o(s.throw(t))}catch(t){e(t)}}function o(t){var e;t.done?n(t.value):((e=t.value)instanceof c?e:new c(function(t){t(e)})).then(i,r)}o((s=s.apply(t,a||[])).next())})}function u(n,i){var r,o,a,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return c.label++,{value:e[1],done:!1};case 5:c.label++,o=e[1],e=[0];continue;case 7:e=c.ops.pop(),c.trys.pop();continue;default:if(!(a=0<(a=c.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){c=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){c.label=e[1];break}if(6===e[0]&&c.label<a[1]){c.label=a[1],a=e;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(e);break}a[2]&&c.ops.pop(),c.trys.pop();continue}e=i.call(n,c)}catch(t){e=[6,t],o=0}finally{r=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}}function l(t,e){Object.assign(t.style,e)}var h={width:"100vw",height:"100vh",top:0,left:0,position:"fixed",display:"flex"},p={center:{"justify-content":"center","align-items":"center"},left:{"justify-content":"flex-start","align-items":"center"},right:{"justify-content":"flex-end","align-items":"center"},bottom:{"justify-content":"center","align-items":"flex-end"},top:{"justify-content":"center","align-items":"flex-start"}},n=(r.prototype.stopPropagation=function(t){return t.preventDefault(),t.stopPropagation(),!1},r.prototype.updateCreative=function(){var t=this.selectCreative(this.creativePackage.getCreatives());return t?this.contentElement.src=t.getUrl():this.destroy(),t},r.prototype.createHeader=function(t){var e=t.logoUrl,n=t.description,i=t.backgroundColor,r=void 0===i?"black":i,i=t.color,i=void 0===i?"white":i,t=t.height,t=void 0===t?64:t;this.header=document.createElement("div"),this.header.innerHTML='\n      <img style="\n      max-width: 128px;\n      object-fit: contain;\n      margin: 6px 24px;\n    " src="'+e+'"/>\n      <div style="flex-grow: 1;"></div>\n      <div style="margin:0;margin-right:8px;">'+n+'</div>\n      <svg style="margin-right:20px;" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="'+i+'"><g><path d="M0,0h24v24H0V0z" fill="none"/></g><g><polygon points="6.23,20.23 8,22 18,12 8,2 6.23,3.77 14.46,12"/></g></svg>\n    ',Object.assign(this.header.style,{height:t+"px",width:"100%",display:"flex","align-items":"center","font-family":"Arial","background-color":r,color:i}),this.element.prepend(this.header)},r.prototype.selectCreative=function(t,n){if(void 0===n&&(n=0),0!==t.length)return n=null!=n?n:this.container.clientWidth/this.container.clientHeight,t.reduce(function(t,e){return Math.abs(t.getWidth()/t.getHeight()-n)<Math.abs(e.getWidth()/e.getHeight()-n)?t:e})},r.prototype.getHeaderHeight=function(){var t;return(null===(t=this.header)||void 0===t?void 0:t.clientHeight)||0},r.prototype.createOverlay=function(t){var e=document.createElement("div");return l(e,d({"z-index":1},h)),t.appendChild(e),e},r.prototype.createContentElement=function(t,e){var n=document.createElement("iframe");return Object.assign(n.style,{border:"none",width:"100%",height:e?"calc(100% - "+(e.height||64)+"px)":"100%"}),t.appendChild(n),n},r.prototype.createElement=function(t){var e=document.createElement("div");return Object.assign(e.style,{"z-index":2147483647,position:"absolute",top:0,left:0,cursor:"pointer"},this.elementCss),t.appendChild(e),e},r.prototype.show=function(){this.container.style.display="block"},r.prototype.hide=function(){this.container.style.display="none"},r.prototype.destroy=function(){this.container.remove(),this.originalOverflowStyle?document.body.style.setProperty("overflow",this.originalOverflowStyle):this.preventScroll&&document.body.style.removeProperty("overflow")},r.prototype.createCloseButton=function(){var e=this,t=document.createElement("img");return Object.assign(t.style,{position:"absolute",top:"-20px",right:"-20px",color:"white",zIndex:"10"}),t.src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' height='36px' viewBox='0 0 24 24' width='36px' fill='black'%3e%3cpath d='M0 0h24v24H0V0z' fill='none' opacity=''/%3e%3cpath d='M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm5 11.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z' opacity='' style='fill: %23f0f0f0%3b'/%3e%3cpath d='M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z'/%3e%3c/svg%3e",t.addEventListener("click",function(t){e.destroy()}),t},r);function r(t){var e=this,n=t.creativePackage,i=t.header,r=t.position,o=void 0===r?"center":r,a=t.elementCss,c=t.preventScroll,s=void 0===c||c,r=t.duration,c=void 0===r?0:r,r=t.animate,r=void 0!==r&&r,t=t.backdrop,t=void 0===t||t;this.creativePackage=n,this.elementCss=a,this.preventScroll=s,this.container=document.createElement("div"),l(this.container,d(d({"z-index":2147483647},h),p[o])),r&&(l(this.container,{opacity:0}),this.container.animate([{opacity:1}],{fill:"forwards",duration:200})),document.body.prepend(this.container),this.element=this.createElement(this.container),this.contentElement=this.createContentElement(this.element),this.updateCreative(),this.overlay=this.createOverlay(this.element),this.preventScroll&&(["wheel","scroll","touchmove","mousewheel"].forEach(function(t){e.container.addEventListener(t,e.stopPropagation)}),this.originalOverflowStyle=document.body.style.overflow,document.body.style.setProperty("overflow","hidden")),t&&(this.backdrop=document.createElement("div"),l(this.backdrop,d({"background-color":"#00000075"},h)),this.container.append(this.backdrop),this.backdrop.addEventListener("click",function(){e.destroy()})),i&&(this.createHeader(i),t="calc(100% - "+(i.height||64)+"px)",this.contentElement.style.height=t,this.overlay.style.height=t,this.overlay.style.top=(i.height||64)+"px",this.header.onclick=function(){e.destroy()}),new ResizeObserver(function(){e.updateCreative()}).observe(this.container),c&&setTimeout(function(){e.destroy()},1e3*c)}var o,a=(e(s,o=n),s);function s(t){t=function(t,e){var n={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}(t,[]);return o.call(this,d({elementCss:{width:"100%",height:"100%"},preventScroll:!0},t))||this}var g,f=(e(v,g=n),v.prototype.selectCreative=function(t){var e=this.container.clientWidth,n=this.container.clientHeight,i=.9*e,r=.9*n,o=.25*e,a=.25*n;return t=(t=void 0===t?[]:t).filter(function(t){return t.getWidth()<=i&&t.getHeight()<=r&&t.getWidth()>=o&&t.getHeight()>=a}),g.prototype.selectCreative.call(this,t)},v.prototype.updateCreative=function(){var t=g.prototype.updateCreative.call(this);return t&&l(this.element,{width:t.getWidth()+"px",height:t.getHeight()+this.getHeaderHeight()+"px"}),t},v);function v(t){var e=t.closeable,n=void 0===e||e,i=t.creativePackage,e=t.header,t=t.mode,t=void 0===t?"center":t,e=g.call(this,{creativePackage:i,header:e,position:t,elementCss:Object.assign({"box-shadow":" 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22)",position:"relative"}),preventScroll:!0})||this;return e.mode=t,e.closeable=n,e.closeable&&e.element.appendChild(e.createCloseButton()),e}var y,m={left:{width:"15%",height:"100%"},right:{width:"15%",height:"100%"},bottom:{height:"15%",width:"100%"},top:{height:"15%",width:"100%"}},w=(e(b,y=n),b.prototype.updateCreative=function(){var t=y.prototype.updateCreative.call(this);return t&&l(this.element,{width:t.getWidth()+"px",height:t.getHeight()+"px"}),t},b.prototype.selectCreative=function(t){var e=this.container.clientWidth,n=this.container.clientHeight,i=e,r=.75*n,o=.25*e,a=.1*n;t=t.filter(function(t){return t.getHeight()<=r&&t.getWidth()<=i&&t.getHeight()>=a&&t.getWidth()>=o});n=this.container.clientWidth/this.container.clientHeight*.5;return y.prototype.selectCreative.call(this,t,n)},b);function b(t){var e=t.creativePackage,t=t.mode,t=void 0===t?"bottom":t,t=y.call(this,{creativePackage:e,header:void 0,elementCss:Object.assign({position:"relative"},m[t]),preventScroll:!1,backdrop:!1,position:t})||this;return t.element.appendChild(t.createCloseButton()),t}var k={Fullscreen:function(t){return new a(t)},BottomBar:function(t){return new w(d({mode:"bottom"},t))},TopBar:function(t){return new w(d({mode:"top"},t))},LeftBar:function(t){return new w(d({mode:"left"},t))},RightBar:function(t){return new w(d({mode:"right"},t))},Modal:function(t){return new f(t)}},x={izTagUid:"",sessionTime:12e5,apiUrl:"https://analytics.inzynk.io",landingClickUrl:"lz/c/",analiticsUrl:"collect",collectPageViewUrl:"collect-time-beacon"},z=localStorage,P="izSessionTime",C=function(t){return(new Date).getTime()-(null==t?void 0:t.lastPageView)>x.sessionTime},O=function(){var t=z.getItem(P);if(!t)return null;t=JSON.parse(t);return C(t)?(console.debug("Session "+t.sessionId+" expired",t,(new Date).toISOString()),null):t},S=function(t){var e,e=(e=O())?e.sessionId:"";if(!e||e!==t)return function(t,e){if(e===void 0)e=0;var n=(new Date).toISOString(),i=(new Date).getTime(),r,o={start:n,lastFrequency:e,updated:i,sessionId:t,lastPageView:i};return z.setItem(P,JSON.stringify(o)),o}(t);e={lastPageView:(new Date).getTime()},(t=O())&&((t=d(d({},t),e)).updated=(new Date).getTime(),z.setItem(P,JSON.stringify(t)))};function T(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return""}window.izAddCookie=function(t,e,n,i,r){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);o="; expires="+o.toUTCString();document.cookie=t+"="+e+o+"; path=/"+(i||"None"===r?";secure":"")};var E=function(){var t;return{izcid:T("izcid"),iztid:T("iztid"),u:document.URL,t:document.title.replace(/^\s+|\s+$/g,""),p:location.pathname,d:document.domain,r:document.referrer,s:null===(t=O())||void 0===t?void 0:t.sessionId,c:(t="inzynk_c",new URLSearchParams(window.location.search).get(t)||"")}};function I(t,e,n){var i=n?";secure":"",n=new Date;n.setTime(n.getTime()+31536e6);n="expires="+n.toUTCString();document.cookie=e+"="+t+";"+n+";path=/"+i}function U(t){for(var e=t+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""}var H=(j.prototype.getCreatives=function(){return this.creatives},j);function j(t){this.data=t,this.creatives=this.data.files.map(function(t){return new L(t)})}var L=(Z.prototype.getUrl=function(){return this.data.url},Z.prototype.getWidth=function(){return this.data.width},Z.prototype.getHeight=function(){return this.data.height},Z);function Z(t){this.data=t}(W=W=W||{}).HTML5="Html5",W.Image="Image";var _=(D.prototype.getCreatives=function(){return this.creatives},D);function D(t){this.data=t,this.creatives=this.data.creatives.map(function(t){return new M(t)})}var B,W,M=(A.prototype.getUrl=function(){return this.data.url},A.prototype.getWidth=function(){return this.data.creativeFormat.width},A.prototype.getHeight=function(){return this.data.creativeFormat.height},A);function A(t){this.data=t}(W=B=B||{}).Adrapid="AdRapid",W.Inzynk="Inzynk";var N=(R.prototype.play=function(){var t,e,n,i;return console.debug("Should play LZ: "+JSON.stringify(this.settings)),t=F(this.settings.uid),n=(new Date).toUTCString(),e=30,(i=new Date).setTime(i.getTime()+24*e*60*60*1e3),i="expires="+i.toUTCString(),document.cookie=t+"="+n+";"+i+";path=/",n=this.settings.position,i={creativePackage:this.creativePackage,header:this.settings.landingZoneHeader,duration:this.settings.duration},k[n](i)},R.prototype.shouldPlay=function(){return!!this.isValidPath()&&J[this.settings.frequencyType](this.settings.uid,this.settings.frequencyValue)},R.prototype.isValidPath=function(){var t,e=window.location.pathname;if(this.settings.excludedPaths)for(var n=0,i=this.settings.excludedPaths;n<i.length;n++){var r=i[n];if(R.checkPath(e,r))return!1}if(null===(t=null===(t=this.settings)||void 0===t?void 0:t.paths)||void 0===t||!t.length||1===this.settings.paths.length&&""===this.settings.paths[0])return!0;for(var o=0,a=this.settings.paths;o<a.length;o++){r=a[o];if(R.checkPath(e,r))return!0}return!1},R.checkPath=function(t,e){for(var n=t.split("/"),i=e.split("/"),r=0;r<i.length;r++){var o=i[r],a=n.shift();if("**"===o)return!0;if(("*"!==o||!a)&&o!==a)return!1}return 0===n.length},R);function R(t){switch(this.settings=t,(this.settings=t).type){case B.Adrapid:var e;t.adRapidFile&&(e=JSON.parse(t.adRapidFile),this.creativePackage=new H(e));break;case B.Inzynk:t.creativePackage&&(this.creativePackage=new _(t.creativePackage))}}var V=3600,F=function(t){return"inzynk-ld-last-played-"+t},J={OncePerXMinutes:function(t,e){t=U(F(t))||0,t=((new Date).getTime()-new Date(t).getTime())/1e3;return e/60*V-t<=0},OnlyOnce:function(t){return!!(U(F(t))||0)},EveryPageview:function(){return!0}},q=function(){return new URLSearchParams(document.location.search.substring(1)).get("previewUid")||""},G=function(t){var e=this,n=t.sessionId,i=t.izcid,r=t.pageviewId,o=t.iztid,a=void 0===(a=t.createdTime)?null:a,t=void 0===(t=t.timer)?null:t;this.toString=function(){return JSON.stringify({s:e.sessionId,izcid:e.izcid,iztid:e.iztid,p:e.pageviewId})},this.pageviewId=r,this.sessionId=n,this.izcid=i,this.iztid=o,this.createdTime=a||Date.now(),this.timer=t},X=x.apiUrl,$={collect:function(t,e,n){t=X+"/"+x.analiticsUrl+"/"+t+"?includeLandingZones=true",e=JSON.stringify(e);return n&&(t+="&previewUid="+n),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then(function(t){return t.json()}).then(function(t){return{pageview:new G(t),landingZones:t.landingZones.map(function(t){return new N(t)})}})},updatePageview:function(t,e){e=JSON.stringify({s:e.sessionId,t:Date.now()-e.createdTime,izcid:e.izcid,p:e.pageviewId});navigator.sendBeacon(X+"/"+x.collectPageViewUrl+"/"+t,e)},landingZoneCollect:function(t,e,n){var i=new URLSearchParams;Object.entries(n).forEach(function(t){var e=t[0],t=t[1];i.append(e,t)});e=X+"/"+t+"/lz/i/"+e+"?"+i.toString();return fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}})}},K=null;function Q(t){window._adftrack=Array.isArray(window._adftrack)?window._adftrack:window._adftrack?[window._adftrack]:[],window._adftrack.push(d({HttpHost:"track.adform.net"},t)),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://track.adform.net/serving/scripts/trackpoint/async/";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()}function Y(s,l){return c(void 0,void 0,void 0,function(){var e,n,i,r,o,a,c;return u(this,function(t){switch(t.label){case 0:e=q(),n=l.izTagUid,i=l.holdForLandingZone,r=l.pageview,t.label=1;case 1:return t.trys.push([1,4,,5]),(o=e?s[0]:s.find(function(t){return t.shouldPlay()}))?[4,et()]:[3,3];case 2:t.sent(),c=o.play(),a=d(d({},E()),{p:r.pageviewId}),e||($.landingZoneCollect(n,o.settings.uid,a),c.overlay.addEventListener("click",function(){var t=r.izcid,e=r.pageviewId,e=x.apiUrl+"/"+x.landingClickUrl+"/"+o.settings.uid+"?iz_cid="+t+"&iz_pid="+e;window.location.replace(e)})),t.label=3;case 3:return[3,5];case 4:return c=t.sent(),console.error("Error getting landing zones "+c,c.stack),[3,5];case 5:return i&&tt(),[2]}})})}var tt=function(){document.documentElement.style.opacity="1"},et=function(){return c(void 0,void 0,void 0,function(){var e,n;return u(this,function(t){return e=new Promise(function(t){if("loading"!=document.readyState)return t(!0);document.addEventListener("DOMContentLoaded",t,{once:!0})}),n=new Promise(function(t){setTimeout(t,2e3)}),[2,Promise.race([e,n])]})})};t.AdrapidCreativePackage=H,t.Bar=w,t.InzynkCreativePackage=_,t.LandingZone=N,t.Modal=f,t.PopUp=n,t.TakeOver=a,t.collect=function(i){var t;i.landingZone&&(i.landingZone.previewUid=q());var r=null===(t=null==i?void 0:i.landingZone)||void 0===t?void 0:t.holdForLandingZone;r&&(document.documentElement.style.opacity="0"),function(r,o,a){c(this,void 0,void 0,function(){var e,n,i=this;return u(this,function(t){return e=function(){return $.collect(r,E(),o).then(function(t){var e=t.pageview;S(e.sessionId),e.timer=setTimeout(n,x.sessionTime),K=e,a&&a(t)}).catch(function(t){console.debug("Could not create pageview",t.stack)})},n=function(){K&&(K.timer&&clearTimeout(K.timer),$.updatePageview(r,K),K=null)},document.addEventListener("visibilitychange",function(){return c(i,void 0,void 0,function(){return u(this,function(t){return"hidden"===document.visibilityState?[2,n()]:(e(),[2])})})}),"visible"===document.visibilityState&&e(),[2]})})}(i.izTagUid,null===(t=null==i?void 0:i.landingZone)||void 0===t?void 0:t.previewUid,function(t){var e=t.pageview,n=t.landingZones;null!==(t=null==i?void 0:i.landingZone)&&void 0!==t&&t.active&&Y(n,{izTagUid:i.izTagUid,holdForLandingZone:r,pageview:e}),null!=i&&i.adformTracking&&Q({pm:i.adformTracking,order:{sv1:String(e.pageviewId||""),sv2:String(e.izcid||""),sv3:String(e.sessionId||"")}}),t={izcid:e.izcid,iztid:e.iztid},n=t.izcid,e=t.iztid,t="https:"==location.protocol,void 0!==n&&I(n,"izcid",t),void 0!==e&&I(e,"iztid",t)})},t.startLandingZones=Y});


Inzynk.collect({"izTagUid":"v8owuemj","landingZone":{"active":false,"holdForLandingZone":false}});